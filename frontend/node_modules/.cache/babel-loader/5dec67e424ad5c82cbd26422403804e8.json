{"ast":null,"code":"var _jsxFileName = \"/home/bryan/Programa\\xE7\\xE3o/WebDev/Portifolio - Bryan Diniz/web/src/pages/Projects/Chat/index.js\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport socket from \"../../../services/socket\";\nimport { Container, PageTitle, MessageContainer, Message, MessageUser, MessageText, MessageDate, InputGroup, InputText, LabelInput, InputMessage, SendButtonInput, InputTextBox, Button } from './styles';\n/*\nsocket.on('recivedMessage', message => {\n    //setMessages([...messages, message]);\n    alert(message.messageText);\n    console.log(message);\n\n    const messageContainer = document.getElementById('messageContainer');\n\n    messageContainer.innerHTML +=\n        `<Message key=\"${message.id}\">\n        <MessageText>\n            <MessageUser>${message.username}</MessageUser>\n                ${message.messageText}\n            </MessageText>\n        <MessageDate>${message.date}</MessageDate>\n    </Message>`\n});\n*/\n\nfunction Chat() {\n  const [messages, setMessages] = useState([]);\n  const messageText = useRef();\n  const username = useRef();\n  /*\n  socket.on('recivedMessage', message => {\n      setMessages([...messages, message]);\n      console.log(message);\n  });\n  */\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    const date = new Date().toTimeString().replace(/.*(\\d{2}:\\d{2}:\\d{2}).*/, \"$1\");\n    ;\n    const newMessage = {\n      id: 0,\n      username: username.current.value,\n      messageText: messageText.current.value,\n      date\n    };\n    socket.emit('sendMessage', newMessage);\n    setMessages([...messages, newMessage]);\n    messageText.current.value = '';\n  }\n\n  return React.createElement(Container, {\n    autoComplete: \"off\",\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(InputGroup, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(LabelInput, {\n    htmlFor: \"username\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, \"Username\"), React.createElement(InputText, {\n    id: \"username\",\n    ref: username,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  })), React.createElement(MessageContainer, {\n    id: \"messageContainer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, socket.on('recivedMessage', message => {\n    return React.createElement(Message, {\n      key: \"${message.id}\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(MessageText, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(MessageUser, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"$\", message.username), \"$\", message.messageText), React.createElement(MessageDate, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"$\", message.date));\n  }), messages.map(m => React.createElement(Message, {\n    key: m.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(MessageText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(MessageUser, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, m.username), m.messageText), React.createElement(MessageDate, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, m.date)))), React.createElement(InputGroup, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, React.createElement(InputMessage, {\n    id: \"message\",\n    placeholder: \"Enviar mensagem...\",\n    ref: messageText,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }), React.createElement(SendButtonInput, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, \"Enviar\")));\n}\n\nexport default Chat;","map":{"version":3,"sources":["/home/bryan/ProgramaÃ§Ã£o/WebDev/Portifolio - Bryan Diniz/web/src/pages/Projects/Chat/index.js"],"names":["React","useState","useEffect","useRef","socket","Container","PageTitle","MessageContainer","Message","MessageUser","MessageText","MessageDate","InputGroup","InputText","LabelInput","InputMessage","SendButtonInput","InputTextBox","Button","Chat","messages","setMessages","messageText","username","handleSubmit","event","preventDefault","date","Date","toTimeString","replace","newMessage","id","current","value","emit","on","message","map","m"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\n\nimport socket from \"../../../services/socket\";\n\nimport { Container, PageTitle, MessageContainer, Message, MessageUser, MessageText, MessageDate, InputGroup, InputText, LabelInput, InputMessage, SendButtonInput, InputTextBox, Button } from './styles';\n\n/*\nsocket.on('recivedMessage', message => {\n    //setMessages([...messages, message]);\n    alert(message.messageText);\n    console.log(message);\n\n    const messageContainer = document.getElementById('messageContainer');\n\n    messageContainer.innerHTML +=\n        `<Message key=\"${message.id}\">\n        <MessageText>\n            <MessageUser>${message.username}</MessageUser>\n                ${message.messageText}\n            </MessageText>\n        <MessageDate>${message.date}</MessageDate>\n    </Message>`\n});\n*/\n\nfunction Chat() {\n    const [messages, setMessages] = useState([]);\n    const messageText = useRef();\n    const username = useRef();\n\n    /*\n    socket.on('recivedMessage', message => {\n        setMessages([...messages, message]);\n        console.log(message);\n    });\n    */\n\n    function handleSubmit(event) {\n        event.preventDefault();\n\n        const date = new Date().toTimeString().replace(/.*(\\d{2}:\\d{2}:\\d{2}).*/, \"$1\");;\n\n        const newMessage = {\n            id: 0,\n            username: username.current.value,\n            messageText: messageText.current.value,\n            date,\n        }\n\n        socket.emit('sendMessage', newMessage);\n\n        setMessages([...messages, newMessage]);\n\n        messageText.current.value = '';\n    }\n\n    return (\n        <Container autoComplete=\"off\" onSubmit={handleSubmit}>\n\n            <InputGroup>\n                <LabelInput htmlFor=\"username\">Username</LabelInput>\n\n                <InputText\n                    id=\"username\"\n                    ref={username}\n                    required />\n            </InputGroup>\n\n            <MessageContainer id=\"messageContainer\">\n\n                {socket.on('recivedMessage', message => {\n\n                    return (\n                        <Message key=\"${message.id}\">\n                            <MessageText>\n                                <MessageUser>${message.username}</MessageUser>\n                                ${message.messageText}\n                            </MessageText>\n                            <MessageDate>${message.date}</MessageDate>\n                        </Message>\n                    );\n\n                })}\n\n                {messages.map(m => (\n                    <Message key={m.id}>\n                        <MessageText>\n                            <MessageUser>{m.username}</MessageUser>\n                            {m.messageText}\n                        </MessageText>\n                        <MessageDate>{m.date}</MessageDate>\n                    </Message>\n                ))}\n\n            </MessageContainer>\n\n            <InputGroup>\n                <InputMessage\n                    id=\"message\"\n                    placeholder=\"Enviar mensagem...\"\n                    ref={messageText}\n                    required />\n\n                <SendButtonInput>Enviar</SendButtonInput>\n            </InputGroup>\n\n        </Container>\n    );\n}\n\nexport default Chat;"]},"metadata":{},"sourceType":"module"}